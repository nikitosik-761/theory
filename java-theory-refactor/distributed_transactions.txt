Модульный монолит: 1 общая бд

Двуxфазный коммит: сервис обращается к координатору, получает номер транзакции. С этим номером обращается к остальным сервисам, просит их внести изменения с указанным идентификатором транзакции. Затем 1 сервис обращается к координатору с просьбой закоммитить транзакцию, после чего координатор сначала отправляет всем сигнал prepare, если все сервисы ответили успехом (они захватили write locks на своих бд), то им посылается сигнал commit.

Оркестрация (saga): У нас есть сервис А, который выступает как оркестратор, он вызывает сервис Б и восстанавливается от падений с помощью компенсаторной операции при необходимости, при этом выполнение каждого из шагов обновляет текущий статус операции, которая может включать в себя реатраи и роллбеки, для поддержки консистентного состояния. Сервисы участники данного паттерна должны предоставлять идемпотентные операции.

Хореография (saga):
	Хореография с двойной записью: выполняется локальная транзакция и отправяется сообщение в очередь.

	Хореография без двойной записи: Сервис А сохраняет запрос и пишет в бд А. Сервис Б периодически опрашивает Сервис А и находит изменения, при обнаружении изменений сервис Б обновляет свою бд.

	Хореография с Debezium: Debezium (коннектор к базам данных, захватывает изменения данных непосредственно из журналов транзакций баз данных), который может отследить обновления в Сервисе А, и записать действия для сервиса Б в брокер, который читает сервис Б.

Listen yourself: Сервис А пишет в кафку действие, а потом сам и сервис Б читают из кафки действия и проводят изменения.